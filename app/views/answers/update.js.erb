block = $('#answer_<%= @answer.id %>');

<% if @answer.errors.present? %>
    block.find('form').remove();
    block.append('<%= j(render partial: 'form', locals: {answer: @answer, question: @answer.question} )%>');
    block.find('form').show();
<% else %>
    block.replaceWith('<%= j(render partial: 'answer.html', locals: { answer: @answer }) %>');
<% end %>